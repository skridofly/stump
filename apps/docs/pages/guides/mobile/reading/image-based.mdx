import { Callout } from 'nextra/components'
import InlineIconButton from '../../../../components/InlineIconButton'
import { X, CircleEllipsis } from 'lucide-react'

# Comics, Manga, and Image-based Reading

Any format that is image-based will generally use the same image-based reader. This includes formats like `.cbz`/`.zip` and `.cbr`/`.rar` files that contain images of the pages. PDF files are considered here as well, at least from Stump server sources.

## Layout

The image-based reader has an overlay that presents when you click the center-portion of the screen. This overlay consists of 3 main sections:

1. The header, which contains an <InlineIconButton ><X /></InlineIconButton> to exit the reader, and a <InlineIconButton ><CircleEllipsis /></InlineIconButton> to open the quick settings menu
2. A center, gradient-filled area that you may tap to close the overlay
3. The footer, which contains controls for navigation and information about the position and reading progress

## Preferences

Each reader has specific settings and preferences that are configurable. These settings may be set globally for all books, and overridden on a per-book basis. If you change a setting for a specific book, it will only apply to that book.

### Reading Flow

Controls how pages are displayed and navigated:

- **Paged**: Traditional page-by-page reading
- **Scroll (Horizontal)**: Continuous horizontal scrolling
- **Scroll (Vertical)**: Continuous vertical scrolling ⚠️ _Currently disabled_

<Callout emoji="⚠️" type="warning">
	Image zooming is funky when using the horizontal scroll flow. This is a known issue and will be
	addressed in a future release
</Callout>

### Reading Direction

You may set `LTR` (left-to-right) or `RTL` (right-to-left) reading direction.

<Callout emoji="ℹ️" type="info">
	Reading direction is only available when not using continuous vertical scrolling
</Callout>

### Image Options

#### Double Page Display

Controls when to display two pages side-by-side:

- **Auto**: Automatically determines based on page orientation and device orientation
- **Always**: Always attempts to display two pages side-by-side
- **Off**: Never displays two pages side-by-side

#### Separate Second Page

When double page display is enabled, this option controls whether the second page should be treated as a separate entity for navigation purposes.

#### Image Scaling

Controls how images are scaled to fit the screen:

- **Fit Height**: Scales images to fit the screen height
- **Fit Width**: Scales images to fit the screen width ⚠️ _Currently disabled_
- **None**: No scaling applied ⚠️ _Currently disabled_

#### Downscaling

When enabled, allows images to be downscaled for better performance. This can help with memory usage for large images.

#### Panel Downloads

Allows downloading individual panels/pages for offline reading. ⚠️ _Currently disabled/in development_

### Navigation Settings

#### Tap Sides to Navigate

When enabled, you can tap the left and right sides of the screen to navigate between pages.

#### Bottom Controls

Controls the type of navigation controls shown at the bottom of the screen:

- **Image Gallery**: Shows thumbnail images for navigation
- **Slider**: Shows a simple slider for navigation

### Progression Tracking

#### Incognito

When enabled, the app will not save your reading progress. This wouldn't affect bookmarks or annotations, just the progress of the book.

#### Reading Timer

When enabled, the app will track the time you spend reading each book in seconds. This will even sync across devices!

<Callout emoji="ℹ️" type="info">
	The app supports reading timers for all server configurations, but syncing is only available when
	using a Stump server
</Callout>

##### Disabling

If you disable the reading timer while reading a book, it is effectively pausing the timer. If you re-enable it, the timer will resume from where it left off. If you disable the timer globally and start reading a book, the timer will not start.

##### Resetting

You may reset the reading timer for a book at any time. This will reset the timer to 0 seconds
